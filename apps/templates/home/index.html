{% extends "layouts/base.html" %} {% block title %} Homepage {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %} {% block content %}

<div class="container-fluid py-4">
	<div class="row">
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-3 pt-2">
					<img
						src="static/assets/img/player-pic/{{ best_kda_player.id }}.png"
						alt="{{ best_kda_player.id }}.png"
						class="icon-lg icon-shape border-radius-xl mt-n4 position-absolute"
					/>

					<div class="text-end pt-1">
						<p class="text-sm mb-0 text-capitalize">
							Highest KDA Player
						</p>
						<a href="/player-data.html/{{ best_kda_player.id }}"
							><h4 class="mb-0">{{ best_kda_player.id }}</h4></a
						>
						<p class="text-sm mb-0 text-capitalize">
							From:
							<a
								href="/team-data.html/{{ best_kda_player.team_name }}"
								><img
									src="static/assets/img/team-icon/{{ best_kda_player.team_name }}.png"
									alt="{{ best_kda_player.team }}.png"
							/></a>
						</p>
					</div>
				</div>
				<hr class="dark horizontal my-0" />
				<div class="card-footer p-3">
					<p class="mb-0">
						<span class="text-success text-sm font-weight-bolder"
							>KDA: {{ best_kda_player.kda }}</span
						>
					</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-3 pt-2">
					<img
						src="static/assets/img/player-pic/{{ best_kill_player.id }}.png"
						alt="{{ best_kill_player.id }}.png"
						class="icon-lg icon-shape border-radius-xl mt-n4 position-absolute"
					/>
					<div class="text-end pt-1">
						<p class="text-sm mb-0 text-capitalize">
							Highest Kill Player
						</p>
						<a href="/player-data.html/{{ best_kill_player.id }}"
							><h4 class="mb-0">{{ best_kill_player.id }}</h4></a
						>
						<p class="text-sm mb-0 text-capitalize">
							From:
							<a
								href="/team-data.html/{{ best_kill_player.team_name }}"
								><img
									src="static/assets/img/team-icon/{{ best_kill_player.team_name }}.png"
									alt="{{ best_kill_player.team }}.png"
							/></a>
						</p>
					</div>
				</div>
				<hr class="dark horizontal my-0" />
				<div class="card-footer p-3">
					<p class="mb-0">
						<span class="text-success text-sm font-weight-bolder"
							>KILL: {{ best_kill_player.k }}</span
						>
					</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
			<div class="card">
				<div class="card-header p-3 pt-2">
					<img
						src="static/assets/img/player-pic/{{ best_assistance_player.id }}.png"
						alt="{{ best_assistance_player.id }}.png"
						class="icon-lg icon-shape border-radius-xl mt-n4 position-absolute"
					/>
					<div class="text-end pt-1">
						<p class="text-sm mb-0 text-capitalize">
							Highest Assistance Player
						</p>
						<a
							href="/player-data.html/{{ best_assistance_player.id }}"
							><h4 class="mb-0">
								{{ best_assistance_player.id }}
							</h4></a
						>
						<p class="text-sm mb-0 text-capitalize">
							From:
							<a
								href="/team-data.html/{{ best_assistance_player.team_name }}"
								><img
									src="static/assets/img/team-icon/{{ best_assistance_player.team_name }}.png"
									alt="{{ best_assistance_player.team }}.png"
							/></a>
						</p>
					</div>
				</div>
				<hr class="dark horizontal my-0" />
				<div class="card-footer p-3">
					<p class="mb-0">
						<span class="text-success text-sm font-weight-bolder"
							>ASSISTANCE: {{ best_assistance_player.a }}</span
						>
					</p>
				</div>
			</div>
		</div>
		<div class="col-xl-3 col-sm-6">
			<div class="card">
				<div class="card-header p-3 pt-2">
					<img
						src="static/assets/img/player-pic/{{ best_cp_player.id }}.png"
						alt="{{ best_cp_player.id }}.png"
						class="icon-lg icon-shape border-radius-xl mt-n4 position-absolute"
					/>
					<div class="text-end pt-1">
						<p class="text-sm mb-0 text-capitalize">
							Highest Hero-Using Player
						</p>
						<a href="/player-data.html/{{ best_cp_player.id }}"
							><h4 class="mb-0">{{ best_cp_player.id }}</h4></a
						>
						<p class="text-sm mb-0 text-capitalize">
							From:
							<a
								href="/team-data.html/{{ best_cp_player.team_name }}"
								><img
									src="static/assets/img/team-icon/{{ best_cp_player.team_name }}.png"
									alt="{{ best_cp_player.team }}.png"
							/></a>
						</p>
					</div>
				</div>
				<hr class="dark horizontal my-0" />
				<div class="card-footer p-3">
					<p class="mb-0">
						<span class="text-success text-sm font-weight-bolder"
							>Hero Number: {{ best_cp_player.cp }}</span
						>
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="row mt-4">
		<div class="col-lg-4 col-md-6 mt-4 mb-4">
			<div class="card z-index-2">
				<div
					class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
				>
					<div
						class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1"
					>
						<div class="chart">
							<canvas
								id="chart-bars"
								class="chart-canvas"
								height="170"
							></canvas>
						</div>
					</div>
				</div>
				<div class="card-body">
					<h6 class="mb-0">KDA榜单</h6>
				</div>
			</div>
		</div>
		<div class="col-lg-4 col-md-6 mt-4 mb-4">
			<div class="card z-index-2">
				<div
					class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
				>
					<div
						class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1"
					>
						<div class="chart">
							<canvas
								id="chart-line"
								class="chart-canvas"
								height="170"
							></canvas>
						</div>
					</div>
				</div>
				<div class="card-body">
					<h6 class="mb-0">击杀榜单</h6>
				</div>
			</div>
		</div>
		<div class="col-lg-4 mt-4 mb-3">
			<div class="card z-index-2">
				<div
					class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent"
				>
					<div
						class="bg-gradient-dark shadow-dark border-radius-lg py-3 pe-1"
					>
						<div class="chart">
							<canvas
								id="chart-line-tasks"
								class="chart-canvas"
								height="170"
							></canvas>
						</div>
					</div>
				</div>
				<div class="card-body">
					<h6 class="mb-0">助攻榜单</h6>
				</div>
			</div>
		</div>
	</div>
	<div class="row mb-4">
		<div class="col-lg-12 col-md-6 mb-md-0 mb-4">
			<div class="card">
				<div class="card-header pb-0">
					<div class="row">
						<div class="col-lg-6 col-7">
							<h6>2022春季赛排名</h6>
						</div>
					</div>
				</div>
				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<table class="table align-items-center mb-0">
							<thead>
								<tr>
									<th
										class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
									>
										队伍
									</th>
									<th
										class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
									>
										胜场
									</th>
								</tr>
							</thead>
							<tbody>
								{% for i in range(team_num) %}
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<a
												href="/team-data.html/{{ team_rank[i][1] }}"
											>
												<img
													src="/static/assets/img/team-icon/{{ team_rank[i][1] }}.png"
												/>
												<span class="mb-0 text-sm">
													{{ team_rank[i][1] }}
												</span>
											</a>
										</div>
									</td>
									<td>{{ team_rank[i][0] }}</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

	{% include 'includes/footer.html' %}
</div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script src="/static/assets/js/plugins/chartjs.min.js"></script>
<script>
	var ctx = document.getElementById("chart-bars").getContext("2d");

	new Chart(ctx, {
		type: "bar",
		data: {{ kda_data|tojson }},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			plugins: {
				legend: {
					display: false,
				},
			},
			interaction: {
				intersect: false,
				mode: "index",
			},
			scales: {
				y: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
						color: "rgba(255, 255, 255, .2)",
					},
					ticks: {
						suggestedMin: 0,
						suggestedMax: 500,
						beginAtZero: true,
						padding: 10,
						font: {
							size: 14,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
						color: "#fff",
					},
				},
				x: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
						color: "rgba(255, 255, 255, .2)",
					},
					ticks: {
						display: true,
						color: "#f8f9fa",
						padding: 10,
						font: {
							size: 14,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
					},
				},
			},
		},
	});

	var ctx2 = document.getElementById("chart-line").getContext("2d");

	new Chart(ctx2, {
		type: "bar",
		data: {{ kill_data|tojson }},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			plugins: {
				legend: {
					display: false,
				},
			},
			interaction: {
				intersect: false,
				mode: "index",
			},
			scales: {
				y: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
						color: "rgba(255, 255, 255, .2)",
					},
					ticks: {
						display: true,
						color: "#f8f9fa",
						padding: 10,
						font: {
							size: 14,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
					},
				},
				x: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
					},
					ticks: {
						display: true,
						color: "#f8f9fa",
						padding: 10,
						font: {
							size: 13,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
					},
				},
			},
		},
	});

	var ctx3 = document.getElementById("chart-line-tasks").getContext("2d");

	new Chart(ctx3, {
		type: "bar",
		data: {{ assistance_data|tojson }},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			plugins: {
				legend: {
					display: false,
				},
			},
			interaction: {
				intersect: false,
				mode: "index",
			},
			scales: {
				y: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
						color: "rgba(255, 255, 255, .2)",
					},
					ticks: {
						display: true,
						padding: 10,
						color: "#f8f9fa",
						font: {
							size: 14,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
					},
				},
				x: {
					grid: {
						drawBorder: false,
						display: true,
						drawOnChartArea: true,
						drawTicks: false,
						borderDash: [5, 5],
					},
					ticks: {
						display: true,
						color: "#f8f9fa",
						padding: 10,
						font: {
							size: 14,
							weight: 300,
							family: "Roboto",
							style: "normal",
							lineHeight: 2,
						},
					},
				},
			},
		},
	});
</script>

{% endblock javascripts %}
